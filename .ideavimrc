" Plugins
set surround
set easymotion
set multiple-cursors
set commentary
set ReplaceWithRegister
set argtextobj
set textobj-entire
set exchange

set incsearch
set hlsearch
set ignorecase
set smartcase
set showmode
set scrolloff=5
set ideavimsupport+=singleline

# Idea specific settings
set ideajoin
set ideastatusicon=gray

set clipboard+=unnamed

" Mappings
map q <leader><leader>s
nnoremap <C-j> J
noremap <A-V> <C-V>
nnoremap H :action Back<CR>
nnoremap L :action Forward<CR>
nnoremap J :action PreviousTab<CR>
nnoremap K :action NextTab<CR>
nnoremap x "_x
imap jj <Esc>

" Leader mappings
nnoremap <SPACE> <Nop>
let mapleader=" "

map <leader>d :action Debug<CR>
map <leader>D :action ChooseDebugConfiguration<CR>
map <leader>r :action Run<CR>
map <leader>R :action ChooseRunConfiguration<CR>
map <leader>n :action Resume<CR>
map <leader>c :action Stop<CR>
map <leader>e :action EvaluateExpression<CR>
map <leader>b :action ToggleLineBreakpoint<CR>

map <leader>ge :action ShowExecutionPoint<CR>
map <leader>gn :action ShowNavBar<CR>
map <leader>gr :action GotoNextError<CR>
map <leader>gR :action GotoPreviousError<CR>
map <leader>gp :action SelectInProjectView<CR>
map <leader>ga :action Annotate<CR>
map <leader>gs :action GotoSuperMethod<CR>

map <leader>f :action HideAllWindows<CR>
map <leader>q :action QuickTypeDefinition<CR>
map <leader>w :action NextSplitter<CR>

map <leader>mr :action Run Mypy Daemon<CR>
map <leader>mp :action Previous Mypy Error<CR>
map <leader>mn :action Next Mypy Error<CR>

map <leader>a :action GotoDeclaration<CR>
map <leader>x :action CloseContent<CR>

" Reformat the current line only
map <leader>l V:action ReformatCode<CR>

map <leader>o :action FileStructurePopup<CR>

let g:argtextobj_pairs="(:),[:],{:}"

noremap h <NOP>
noremap j <NOP>
noremap k <NOP>
noremap l <NOP>
